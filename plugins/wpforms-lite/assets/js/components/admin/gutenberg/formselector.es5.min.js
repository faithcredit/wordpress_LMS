!function n(o,l,a){function s(r,e){if(!l[r]){if(!o[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(c)return c(r,!0);throw new Error("Cannot find module '"+r+"'")}e=l[r]={exports:{}};o[r][0].call(e.exports,function(e){var t=o[r][1][e];return s(t||e)},e,e.exports,n,o,l,a)}return l[r].exports}for(var c="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,r){"use strict";function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l,a,s=[],c=!0,i=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=l.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){i=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(i)throw o}}return s}}(e,t)||function(e,t){var r;if(e)return"string"==typeof e?n(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o,c,i,l,s,u,f,d,m,g,p,b,y,C,h,w,v,S,k,E,R,B,x,P,A,I,F,z,T,N=window.WPForms||{};N.FormSelector=N.FormSelector||(o=document,c=window,i=jQuery,l=wp.serverSideRender,s=void 0===l?wp.components.ServerSideRender:l,l=wp.element,u=l.createElement,f=l.Fragment,d=l.useState,m=wp.blocks.registerBlockType,l=wp.blockEditor||wp.editor,g=l.InspectorControls,p=l.InspectorAdvancedControls,b=l.PanelColorSettings,l=wp.components,y=l.SelectControl,C=l.ToggleControl,h=l.PanelBody,w=l.Placeholder,v=l.Flex,S=l.FlexBlock,k=l.__experimentalUnitControl,E=l.TextareaControl,R=l.Button,B=l.Modal,l=wpforms_gutenberg_form_selector,x=l.strings,P=l.defaults,A=l.sizes,I=P,F={},z=!0,T={init:function(){T.initDefaults(),T.registerBlock(),i(T.ready)},ready:function(){T.events()},events:function(){i(c).on("wpformsFormSelectorEdit",_.debounce(T.blockEdit,250)).on("wpformsFormSelectorFormLoaded",_.debounce(T.formLoaded,250))},registerBlock:function(){m("wpforms/form-selector",{title:x.title,description:x.description,icon:T.getIcon(),keywords:x.form_keywords,category:"widgets",attributes:T.getBlockAttributes(),example:{attributes:{preview:!0}},edit:function(e){var t=e.attributes,r=T.getFormOptions(),n=T.getSizeOptions(),o=T.getSettingsFieldsHandlers(e),l=(e.setAttributes({clientId:e.clientId}),[T.jsxParts.getMainSettings(t,o,r)]);return t.formId?(l.push(T.jsxParts.getStyleSettings(t,o,n),T.jsxParts.getAdvancedSettings(t,o),T.jsxParts.getBlockFormContent(e)),o.updateCopyPasteContent(),i(c).trigger("wpformsFormSelectorEdit",[e])):t.preview?l.push(T.jsxParts.getBlockPreview()):l.push(T.jsxParts.getBlockPlaceholder(e.attributes,o,r)),l},save:function(){return null}})},initDefaults:function(){["formId","copyPasteValue"].forEach(function(e){return delete I[e]})},jsxParts:{getMainSettings:function(e,t,r){return React.createElement(g,{key:"wpforms-gutenberg-form-selector-inspector-main-settings"},React.createElement(h,{className:"wpforms-gutenberg-panel",title:x.form_settings},React.createElement(y,{label:x.form_selected,value:e.formId,options:r,onChange:function(e){return t.attrChange("formId",e)}}),React.createElement(C,{label:x.show_title,checked:e.displayTitle,onChange:function(e){return t.attrChange("displayTitle",e)}}),React.createElement(C,{label:x.show_description,checked:e.displayDesc,onChange:function(e){return t.attrChange("displayDesc",e)}}),React.createElement("p",{className:"wpforms-gutenberg-panel-notice"},React.createElement("strong",null,x.panel_notice_head),x.panel_notice_text,React.createElement("a",{href:x.panel_notice_link,rel:"noreferrer",target:"_blank"},x.panel_notice_link_text))))},getFieldStyles:function(e,t,r){return React.createElement(h,{className:T.getPanelClass(e),title:x.field_styles},React.createElement("p",{className:"wpforms-gutenberg-panel-notice wpforms-use-modern-notice"},React.createElement("strong",null,x.use_modern_notice_head),x.use_modern_notice_text," ",React.createElement("a",{href:x.use_modern_notice_link,rel:"noreferrer",target:"_blank"},x.learn_more)),React.createElement("p",{className:"wpforms-gutenberg-panel-notice wpforms-warning wpforms-lead-form-notice",style:{display:"none"}},React.createElement("strong",null,x.lead_forms_panel_notice_head),x.lead_forms_panel_notice_text),React.createElement(v,{gap:4,align:"flex-start",className:"wpforms-gutenberg-form-selector-flex",justify:"space-between"},React.createElement(S,null,React.createElement(y,{label:x.size,value:e.fieldSize,options:r,onChange:function(e){return t.styleAttrChange("fieldSize",e)}})),React.createElement(S,null,React.createElement(k,{label:x.border_radius,value:e.fieldBorderRadius,isUnitSelectTabbable:!0,onChange:function(e){return t.styleAttrChange("fieldBorderRadius",e)}}))),React.createElement("div",{className:"wpforms-gutenberg-form-selector-color-picker"},React.createElement("div",{className:"wpforms-gutenberg-form-selector-control-label"},x.colors),React.createElement(b,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,showTitle:!1,className:"wpforms-gutenberg-form-selector-color-panel",colorSettings:[{value:e.fieldBackgroundColor,onChange:function(e){return t.styleAttrChange("fieldBackgroundColor",e)},label:x.background},{value:e.fieldBorderColor,onChange:function(e){return t.styleAttrChange("fieldBorderColor",e)},label:x.border},{value:e.fieldTextColor,onChange:function(e){return t.styleAttrChange("fieldTextColor",e)},label:x.text}]})))},getLabelStyles:function(e,t,r){return React.createElement(h,{className:T.getPanelClass(e),title:x.label_styles},React.createElement(y,{label:x.size,value:e.labelSize,className:"wpforms-gutenberg-form-selector-fix-bottom-margin",options:r,onChange:function(e){return t.styleAttrChange("labelSize",e)}}),React.createElement("div",{className:"wpforms-gutenberg-form-selector-color-picker"},React.createElement("div",{className:"wpforms-gutenberg-form-selector-control-label"},x.colors),React.createElement(b,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,showTitle:!1,className:"wpforms-gutenberg-form-selector-color-panel",colorSettings:[{value:e.labelColor,onChange:function(e){return t.styleAttrChange("labelColor",e)},label:x.label},{value:e.labelSublabelColor,onChange:function(e){return t.styleAttrChange("labelSublabelColor",e)},label:x.sublabel_hints.replace("&amp;","&")},{value:e.labelErrorColor,onChange:function(e){return t.styleAttrChange("labelErrorColor",e)},label:x.error_message}]})))},getButtonStyles:function(e,t,r){return React.createElement(h,{className:T.getPanelClass(e),title:x.button_styles},React.createElement(v,{gap:4,align:"flex-start",className:"wpforms-gutenberg-form-selector-flex",justify:"space-between"},React.createElement(S,null,React.createElement(y,{label:x.size,value:e.buttonSize,options:r,onChange:function(e){return t.styleAttrChange("buttonSize",e)}})),React.createElement(S,null,React.createElement(k,{onChange:function(e){return t.styleAttrChange("buttonBorderRadius",e)},label:x.border_radius,isUnitSelectTabbable:!0,value:e.buttonBorderRadius}))),React.createElement("div",{className:"wpforms-gutenberg-form-selector-color-picker"},React.createElement("div",{className:"wpforms-gutenberg-form-selector-control-label"},x.colors),React.createElement(b,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,showTitle:!1,className:"wpforms-gutenberg-form-selector-color-panel",colorSettings:[{value:e.buttonBackgroundColor,onChange:function(e){return t.styleAttrChange("buttonBackgroundColor",e)},label:x.background},{value:e.buttonTextColor,onChange:function(e){return t.styleAttrChange("buttonTextColor",e)},label:x.text}]}),React.createElement("div",{className:"wpforms-gutenberg-form-selector-legend wpforms-button-color-notice"},x.button_color_notice)))},getStyleSettings:function(e,t,r){return React.createElement(g,{key:"wpforms-gutenberg-form-selector-style-settings"},T.jsxParts.getFieldStyles(e,t,r),T.jsxParts.getLabelStyles(e,t,r),T.jsxParts.getButtonStyles(e,t,r))},getAdvancedSettings:function(e,t){function r(){return l(!1)}var n=a(d(!1),2),o=n[0],l=n[1];return React.createElement(p,null,React.createElement("div",{className:T.getPanelClass(e)},React.createElement(E,{label:x.copy_paste_settings,rows:"4",spellCheck:"false",value:e.copyPasteValue,onChange:function(e){return t.pasteSettings(e)}}),React.createElement("div",{className:"wpforms-gutenberg-form-selector-legend",dangerouslySetInnerHTML:{__html:x.copy_paste_notice}}),React.createElement(R,{className:"wpforms-gutenberg-form-selector-reset-button",onClick:function(){return l(!0)}},x.reset_style_settings)),o&&React.createElement(B,{className:"wpforms-gutenberg-modal",title:x.reset_style_settings,onRequestClose:r},React.createElement("p",null,x.reset_settings_confirm_text),React.createElement(v,{gap:3,align:"center",justify:"flex-end"},React.createElement(R,{isSecondary:!0,onClick:r},x.btn_no),React.createElement(R,{isPrimary:!0,onClick:function(){r(),t.resetSettings()}},x.btn_yes_reset))))},getBlockFormContent:function(e){var t,r;return z?React.createElement(s,{key:"wpforms-gutenberg-form-selector-server-side-renderer",block:"wpforms/form-selector",attributes:e.attributes}):(t=e.clientId,(r=T.getBlockContainer(e))&&r.innerHTML?(F[t]=F[t]||{},F[t].blockHTML=r.innerHTML,F[t].loadedFormId=e.attributes.formId,React.createElement(f,{key:"wpforms-gutenberg-form-selector-fragment-form-html"},React.createElement("div",{dangerouslySetInnerHTML:{__html:F[t].blockHTML}}))):(z=!0,T.jsxParts.getBlockFormContent(e)))},getBlockPreview:function(){return React.createElement(f,{key:"wpforms-gutenberg-form-selector-fragment-block-preview"},React.createElement("img",{src:wpforms_gutenberg_form_selector.block_preview_url,style:{width:"100%"}}))},getBlockPlaceholder:function(e,t,r){return React.createElement(w,{key:"wpforms-gutenberg-form-selector-wrap",className:"wpforms-gutenberg-form-selector-wrap"},React.createElement("img",{src:wpforms_gutenberg_form_selector.logo_url}),React.createElement("h3",null,x.title),React.createElement(y,{key:"wpforms-gutenberg-form-selector-select-control",value:e.formId,options:r,onChange:function(e){return t.attrChange("formId",e)}}))}},getPanelClass:function(e){e="wpforms-gutenberg-panel wpforms-block-settings-"+e.clientId;return T.isFullStylingEnabled()||(e+=" disabled_panel"),e},isFullStylingEnabled:function(){return wpforms_gutenberg_form_selector.is_modern_markup&&wpforms_gutenberg_form_selector.is_full_styling},getBlockContainer:function(e){var t,e="#block-".concat(e.clientId," > div"),r=o.querySelector(e);return r=r?r:(t=o.querySelector('iframe[name="editor-canvas"]'))&&t.contentWindow.document.querySelector(e)},getSettingsFieldsHandlers:function(s){return{styleAttrChange:function(e,t){var r=T.getBlockContainer(s),n=r.querySelector("#wpforms-".concat(s.attributes.formId)),o=e.replace(/[A-Z]/g,function(e){return"-".concat(e.toLowerCase())}),l={};if(n)switch(o){case"field-size":case"label-size":case"button-size":for(var a in A[o][t])n.style.setProperty("--wpforms-".concat(o,"-").concat(a),A[o][t][a]);break;default:n.style.setProperty("--wpforms-".concat(o),t)}l[e]=t,s.setAttributes(l),z=!1,this.updateCopyPasteContent(),i(c).trigger("wpformsFormSelectorStyleAttrChange",[r,s,e,t])},attrChange:function(e,t){var r={};r[e]=t,s.setAttributes(r),z=!0,this.updateCopyPasteContent()},resetSettings:function(){for(var e in I)this.styleAttrChange(e,I[e])},updateCopyPasteContent:function(){var e,t={},r=wp.data.select("core/block-editor").getBlockAttributes(s.clientId);for(e in I)t[e]=r[e];s.setAttributes({copyPasteValue:JSON.stringify(t)})},pasteSettings:function(e){var t=T.parseValidateJson(e);t?(t.copyPasteValue=e,s.setAttributes(t),z=!0):(wp.data.dispatch("core/notices").createErrorNotice(x.copy_paste_error,{id:"wpforms-json-parse-error"}),this.updateCopyPasteContent())}}},parseValidateJson:function(e){if("string"!=typeof e)return!1;var t;try{t=JSON.parse(e)}catch(e){t=!1}return t},getIcon:function(){return u("svg",{width:20,height:20,viewBox:"0 0 612 612",className:"dashicon"},u("path",{fill:"currentColor",d:"M544,0H68C30.445,0,0,30.445,0,68v476c0,37.556,30.445,68,68,68h476c37.556,0,68-30.444,68-68V68 C612,30.445,581.556,0,544,0z M464.44,68L387.6,120.02L323.34,68H464.44z M288.66,68l-64.26,52.02L147.56,68H288.66z M544,544H68 V68h22.1l136,92.14l79.9-64.6l79.56,64.6l136-92.14H544V544z M114.24,263.16h95.88v-48.28h-95.88V263.16z M114.24,360.4h95.88 v-48.62h-95.88V360.4z M242.76,360.4h255v-48.62h-255V360.4L242.76,360.4z M242.76,263.16h255v-48.28h-255V263.16L242.76,263.16z M368.22,457.3h129.54V408H368.22V457.3z"}))},getBlockAttributes:function(){return{clientId:{type:"string",default:""},formId:{type:"string",default:P.formId},displayTitle:{type:"boolean",default:P.displayTitle},displayDesc:{type:"boolean",default:P.displayDesc},preview:{type:"boolean"},fieldSize:{type:"string",default:P.fieldSize},fieldBorderRadius:{type:"string",default:P.fieldBorderRadius},fieldBackgroundColor:{type:"string",default:P.fieldBackgroundColor},fieldBorderColor:{type:"string",default:P.fieldBorderColor},fieldTextColor:{type:"string",default:P.fieldTextColor},labelSize:{type:"string",default:P.labelSize},labelColor:{type:"string",default:P.labelColor},labelSublabelColor:{type:"string",default:P.labelSublabelColor},labelErrorColor:{type:"string",default:P.labelErrorColor},buttonSize:{type:"string",default:P.buttonSize},buttonBorderRadius:{type:"string",default:P.buttonBorderRadius},buttonBackgroundColor:{type:"string",default:P.buttonBackgroundColor},buttonTextColor:{type:"string",default:P.buttonTextColor},copyPasteValue:{type:"string",default:P.copyPasteValue}}},getFormOptions:function(){var e=wpforms_gutenberg_form_selector.forms.map(function(e){return{value:e.ID,label:e.post_title}});return e.unshift({value:"",label:x.form_select}),e},getSizeOptions:function(){return[{label:x.small,value:"small"},{label:x.medium,value:"medium"},{label:x.large,value:"large"}]},blockEdit:function(e,t){t=T.getBlockContainer(t);t&&t.dataset&&T.initLeadFormSettings(t.parentElement)},initLeadFormSettings:function(e){var t;e&&e.dataset&&T.isFullStylingEnabled()&&(t=e.dataset.block,e=i(e.querySelector(".wpforms-container")),t=i(".wpforms-block-settings-".concat(t)),e.hasClass("wpforms-lead-forms-container")?(t.addClass("disabled_panel").find(".wpforms-gutenberg-panel-notice.wpforms-lead-form-notice").css("display","block"),t.find(".wpforms-gutenberg-panel-notice.wpforms-use-modern-notice").css("display","none")):(t.removeClass("disabled_panel").find(".wpforms-gutenberg-panel-notice.wpforms-lead-form-notice").css("display","none"),t.find(".wpforms-gutenberg-panel-notice.wpforms-use-modern-notice").css("display",null)))},formLoaded:function(e){T.initLeadFormSettings(e.detail.block),T.updateAccentColors(e.detail),T.loadChoicesJS(e.detail),T.initRichTextField(e.detail.formId),i(e.detail.block).off("click").on("click",T.blockClick)},blockClick:function(e){T.initLeadFormSettings(e.currentTarget)},updateAccentColors:function(e){var t;wpforms_gutenberg_form_selector.is_modern_markup&&c.WPForms&&c.WPForms.FrontendModern&&e.block&&(e=i(e.block.querySelector("#wpforms-".concat(e.formId))),(t=c.WPForms.FrontendModern).updateGBBlockPageIndicatorColor(e),t.updateGBBlockIconChoicesColor(e),t.updateGBBlockRatingColor(e))},loadChoicesJS:function(e){"function"==typeof c.Choices&&i(e.block.querySelector("#wpforms-".concat(e.formId))).find(".choicesjs-select").each(function(e,t){var r=i(t);if("active"!==r.data("choice")){var n=c.wpforms_choicesjs_config||{},o=r.data("search-enabled"),l=r.closest(".wpforms-field");n.searchEnabled=void 0===o||o,n.callbackOnInit=function(){var e=i(this.passedElement.element),t=i(this.input.element),r=e.data("size-class");r&&i(this.containerOuter.element).addClass(r),e.prop("multiple")&&(t.data("placeholder",t.attr("placeholder")),this.getValue(!0).length)&&t.removeAttr("placeholder"),this.disable(),l.find(".is-disabled").removeClass("is-disabled")};try{var a=new Choices(t,n);r.data("choicesjs",a)}catch(e){}}})},initRichTextField:function(e){i("#wpforms-".concat(e," .wp-editor-wrap")).removeClass("html-active").addClass("tmce-active")}}),N.FormSelector.init()},{}]},{},[1]);